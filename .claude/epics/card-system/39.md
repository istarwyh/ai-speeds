---
github: https://github.com/istarwyh/ai-speeds/issues/39
epic: card-system
title: 设计卡片数据结构
status: in_progress
created: 2025-10-07T15:50:25Z
updated: 2025-10-20T16:14:41Z
labels: []
assignees: []
---

# Issue #39: 设计卡片数据结构

## Description

卡片应当简化，保留足够元信息用于推荐即可卡片应该再支持视频每个卡片应该允许对话，对话时 Agent 代入卡片的主体身份因此卡片不仅仅可以承载内容，也可以承载 agent 实现/广告，甚至是一个开始到一半的争论

## Related Issues

- #40: 浏览样式 - 页面呈现水面/画布感觉，卡片可拖动
- #41: 商业化考虑 - 基于卡片的广告和对话数据展示
- #42: 多个服务模块 - 卡片发布、搜索、推荐、内容展示
- #43: 引入论坛模式 - Agent主导的高质量讨论内容

## Acceptance Criteria

- [ ] 定义卡片核心数据结构（TypeScript类型定义）
- [ ] 支持多媒体内容（文本、图片、视频）
- [ ] 支持推荐元信息（标签、分类、关键词）
- [ ] 支持Agent身份配置和对话接口
- [ ] 支持多种卡片类型（内容、Agent、广告、讨论）
- [ ] 设计数据库Schema
- [ ] 编写API接口规范
- [ ] 提供示例数据和文档

## Technical Context

**Current Architecture:**

- Next.js 15 + React 19 + TypeScript
- Cloudflare Workers (Edge Runtime)
- 模块化内容系统

**Integration Points:**

- 需要与现有的模块化系统集成
- 需要支持Edge Runtime约束
- 需要考虑SEO和性能优化

## Work Streams

This issue can be broken down into parallel work streams:

1. **Type Definitions** - 定义核心数据类型
2. **Schema Design** - 设计数据库Schema
3. **API Specification** - 定义API接口
4. **Documentation** - 编写使用文档和示例

## Notes

卡片系统是平台的核心功能，需要：

- 灵活性：支持多种内容类型
- 可扩展性：易于添加新字段和类型
- 性能：Edge Runtime优化
- 用户体验：直观的数据结构设计
